<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Workers Compensation Payroll Update Form — Charity One</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;700&display=swap" rel="stylesheet">

  <!-- Use existing shared stylesheet -->
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- Header -->
  <header class="site-header" role="banner">
    <div class="header-inner">
      <img src="charity_one_logo.png" alt="Charity One Logo" class="logo" onerror="this.style.display='none'"/>
    </div>
  </header>

  <div class="divider-white" aria-hidden="true"></div>
  <div class="divider-grey" aria-hidden="true"></div>

  <div class="header-bottom">
    <div class="subtitle"></div>
  </div>

  <div class="form-title">
    <h1 class="title">Workers Compensation Payroll Update Form</h1>
  </div>

  <main class="container" role="main">
    <form id="payrollForm" class="card" novalidate>

      <!-- Intro -->
      <div class="section">
        <p class="intro">
          Please use this form to provide your organization’s estimated annual payroll for each Workers Compensation class code.
          Correct payroll allocation helps ensure that your premium is based on the proper classification of your employees and helps avoid being overcharged during the policy term or at audit.
          If you are unsure of the correct class code, select <strong>Not sure</strong> and provide a brief job description. Our team will classify the code accurately for you.
        </p>
      </div>

      <!-- Organization -->
      <div class="section">
        <label class="section-title"><span class="q-number">1.</span> Organization Name <span class="required-star">*</span></label>
        <input id="orgName" name="orgName" class="answer" type="text" placeholder="Legal or operating name" required />
      </div>

      <!-- Payroll blocks container -->
      <div class="section">
        <div class="section-title"><span class="q-number">2.</span> Payroll by Class Code</div>
        <div class="intro" style="margin-bottom:8px;">Add one class code per entry. Click "Add class code" to add more.</div>

        <div id="payrollList"></div>

        <div style="margin-top:12px;">
          <button type="button" id="addPayrollBtn" class="btn secondary small">Add class code</button>
        </div>
      </div>

      <!-- Additional notes -->
      <div class="section">
        <label class="section-title"><span class="q-number">3.</span> Additional Notes (optional)</label>
        <textarea id="additionalNotes" class="answer" placeholder="Anything else (optional)"></textarea>
      </div>

      <!-- Actions -->
      <div class="actions">
        <div class="muted-small">Fields marked <span class="required-star">*</span> are required</div>
        <div style="display:flex;gap:10px;margin-top:8px;">
          <button type="button" id="previewBtn" class="btn secondary">Preview</button>
          <button type="submit" id="submitBtn" class="btn">Submit</button>
        </div>
      </div>

      <div id="statusMsg" class="message hidden" aria-hidden="true" style="margin-top:12px;"></div>
    </form>
  </main>

  <!-- Preview Modal -->
  <div id="previewModal" class="preview-modal hidden" role="dialog" aria-modal="true" aria-labelledby="previewTitle">
    <div class="preview-dialog" role="document">
      <header class="preview-header">
        <h3 id="previewTitle">Review payroll entries</h3>
        <button id="closePreview" class="preview-close" aria-label="Close preview">&times;</button>
      </header>
      <div class="preview-body" id="previewBody"></div>
      <footer class="preview-footer">
        <button id="editBtn" class="btn secondary">Back / Edit</button>
        <button id="confirmSubmitBtn" class="btn">Confirm & Submit</button>
      </footer>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>